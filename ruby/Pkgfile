# Description: Ruby interpreter, version 3
# URL:         https://www.ruby-lang.org/
# Depends on:  gdbm libffi libgmp libyaml openssl zlib

name=ruby
version=3.3.8
release=1
source=https://cache.ruby-lang.org/pub/ruby/${version%.*}/ruby-$version.tar.xz

build() {
	mkdir build; cd build

	../ruby-$version/configure         \
		--prefix=/usr              \
		--enable-shared            \
		--disable-install-doc      \
		--with-ruby-version=minor  \

	make V=1
	make DESTDIR=$PKG install

	# remove junk
	find $PKG -type f \(               \
		   -name COPYING           \
		-o -name ChangeLog         \
		-o -name LICENSE           \
		-o -name LICENSE.txt       \
		-o -name README.md         \
		-o -name TODO              \
		-o -name TODO.md           \
		\) -delete
}
